import{G as W,z as Y,H as z,g as V,y as Z,I as G,B as J,J as $,K as H,M as K,O as y,P as N,Q as B,R,T as F,U,V as j,W as ee,X as re,Y as ne,Z as ae,A as ie,_ as fe,$ as le}from"./runtime-hUo-UAYR.js";import{q as ue}from"./props-DJ7OM77H.js";let te=!1;function he(f,e){return e}function se(f,e,r,t){for(var v=[],d=e.length,_=0;_<d;_++)re(e[_].e,v,!0);var c=d>0&&v.length===0&&r!==null;if(c){var h=r.parentNode;ne(h),h.append(r),t.clear(),I(f,e[0].prev,e[d-1].next)}ae(v,()=>{for(var o=0;o<d;o++){var s=e[o];c||(t.delete(s.k),I(f,s.prev,s.next)),ie(s.e,!c)}})}function pe(f,e,r,t,v,d=null){var _=f,c={flags:e,items:new Map,first:null},h=(e&z)!==0;if(h){var o=f;_=o.appendChild(W())}var s=null,x=!1,a=Z(()=>{var u=r();return j(u)?u:u==null?[]:K(u)});Y(()=>{var u=V(a),n=u.length;x&&n===0||(x=n===0,ve(u,c,_,v,e,t,r),d!==null&&(n===0?s?G(s):s=J(()=>d(_)):s!==null&&$(s,()=>{s=null})),V(a))})}function ve(f,e,r,t,v,d,_){var b,q,D,L;var c=(v&ee)!==0,h=(v&(N|R))!==0,o=f.length,s=e.items,x=e.first,a=x,u,n=null,g,p=[],E=[],C,m,i,l;if(c)for(l=0;l<o;l+=1)C=f[l],m=d(C,l),i=s.get(m),i!==void 0&&((b=i.a)==null||b.measure(),(g??(g=new Set)).add(i));for(l=0;l<o;l+=1){if(C=f[l],m=d(C,l),i=s.get(m),i===void 0){var P=a?a.e.nodes_start:r;n=_e(P,e,n,n===null?e.first:n.next,C,m,l,t,v,_),s.set(m,n),p=[],E=[],a=n.next;continue}if(h&&de(i,C,l,v),(i.e.f&H)!==0&&(G(i.e),c&&((q=i.a)==null||q.unfix(),(g??(g=new Set)).delete(i))),i!==a){if(u!==void 0&&u.has(i)){if(p.length<E.length){var w=E[0],A;n=w.prev;var S=p[0],M=p[p.length-1];for(A=0;A<p.length;A+=1)X(p[A],w,r);for(A=0;A<E.length;A+=1)u.delete(E[A]);I(e,S.prev,M.next),I(e,n,S),I(e,M,w),a=w,n=M,l-=1,p=[],E=[]}else u.delete(i),X(i,a,r),I(e,i.prev,i.next),I(e,i,n===null?e.first:n.next),I(e,n,i),n=i;continue}for(p=[],E=[];a!==null&&a.k!==m;)(a.e.f&H)===0&&(u??(u=new Set)).add(a),E.push(a),a=a.next;if(a===null)continue;i=a}p.push(i),n=i,a=i.next}if(a!==null||u!==void 0){for(var T=u===void 0?[]:K(u);a!==null;)(a.e.f&H)===0&&T.push(a),a=a.next;var k=T.length;if(k>0){var Q=(v&z)!==0&&o===0?r:null;if(c){for(l=0;l<k;l+=1)(D=T[l].a)==null||D.measure();for(l=0;l<k;l+=1)(L=T[l].a)==null||L.fix()}se(e,T,Q,s)}}c&&ue(()=>{var O;if(g!==void 0)for(i of g)(O=i.a)==null||O.apply()}),y.first=e.first&&e.first.e,y.last=n&&n.e}function de(f,e,r,t){(t&N)!==0&&B(f.v,e),(t&R)!==0?B(f.i,r):f.i=r}function _e(f,e,r,t,v,d,_,c,h,o){var s=(h&N)!==0,x=(h&le)===0,a=s?x?F(v):U(v):v,u=(h&R)===0?_:U(_),n={i:u,v:a,k:d,a:null,e:null,prev:r,next:t};try{return n.e=J(()=>c(f,a,u,o),te),n.e.prev=r&&r.e,n.e.next=t&&t.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),t!==null&&(t.prev=n,t.e.prev=n.e),n}finally{}}function X(f,e,r){for(var t=f.next?f.next.e.nodes_start:r,v=e?e.e.nodes_start:r,d=f.e.nodes_start;d!==t;){var _=fe(d);v.before(d),d=_}}function I(f,e,r){e===null?f.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{pe as e,he as i};
