import{p as L,y as w,o as j,f as T,e as V,b as z,c as I,j as C,i as W,s as q,k as E,g as f,u as x,B as P}from"./iframe-Dp941mr0.js";import{e as S,i as A}from"./each-BloI8u1y.js";import{a as B}from"./create-runtime-stories-BXezm3Za.js";import{b as R,s as F}from"./this-DYHwRBO6.js";import{g as p}from"./getMoment-DH1PBheS.js";import{C as H}from"./CalendarDateChip-BfOSkxiX.js";import{C as U,a as _}from"./CalendarWeek-NEYAnzlc.js";import"./Popper-BdTl_VMh.js";import"./MenuItem-BgL_tvet.js";var G=T('<li class="daysRow svelte-tlq3dy"><ul class="svelte-tlq3dy"></ul></li>'),J=T("<ul><!> <!></ul>");function K(a,e){L(e,!0);let i=w(e,"class",3,""),t=w(e,"ref",15),c=w(e,"showSelected",3,!0),d=w(e,"size",3,"normal"),M=w(e,"weekendDaysColorDays",3,!0),m=E(void 0);const b=x(()=>Z(f(m),{startOfWeek:e.startOfWeek,timezone:e.timezone,utc:e.utc,today:e.today,minDate:e.minDate,maxDate:e.maxDate,excludeDates:e.excludeDates,includeDates:e.includeDates},e.manipulateDate)||[]);j(()=>{if(!e.value){C(m,e.activeMonth,!0);return}e.activeMonth&&p(e.activeMonth,void 0,{timezone:e.timezone,utc:e.utc}).format("MMM YYYY")!==p(e.value,void 0,{timezone:e.timezone,utc:e.utc}).format("MMM YYYY")?C(m,e.activeMonth,!0):C(m,e.value,!0)});var y=J(),o=W(y);U(o,{get nameType(){return e.weekDayNameType},get startOfWeek(){return e.startOfWeek},get customCalendarWeekContent(){return e.customCalendarWeekContent},get customCalendarWeek(){return e.customCalendarWeek},get size(){return d()},get weekendDays(){return e.weekendDays}});var l=q(o,2);S(l,17,()=>f(b),A,(r,s)=>{var n=G(),u=W(n);S(u,21,()=>f(s),D=>D.id,(D,k)=>{const v=x(()=>!!(c()&&p(e.value,void 0,{timezone:e.timezone,utc:e.utc}).format("DD-MM-YYY")===p(f(k).date,void 0,{timezone:e.timezone,utc:e.utc}).format("DD-MM-YYY"))),N=x(()=>{var O;return!!(M()&&((O=e.weekendDays)!=null&&O.includes(p(f(k).date,void 0,{timezone:e.timezone,utc:e.utc}).format("ddd").toLowerCase())))});H(D,P({get dayOfMonth(){return f(k)},get color(){return e.color},get showToday(){return e.showToday},get showLastMonth(){return e.showLastMonth},get showNextMonth(){return e.showNextMonth},get selected(){return f(v)},get onselect(){return e.onselect},get customCalendarDateChip(){return e.customCalendarDateChip},get customCalendarDateChipContent(){return e.customCalendarDateChipContent},get size(){return d()},get timezone(){return e.timezone},get utc(){return e.utc},get weekend(){return f(N)}},()=>e.calendarDateChipProps))}),z(r,n)}),R(y,r=>t(r),()=>t()),V(r=>F(y,1,r,"svelte-tlq3dy"),[()=>B(["dodo-ui-CalendarDatesChart",`size--${d()}`,i()].join(" "))]),z(a,y),I()}K.__docgen={data:[{name:"ref",visibility:"public",description:"CalendarDatesChart ref",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLUListElement"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",description:"Custom css class",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"value",visibility:"public",description:"Selcted date Value",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"activeMonth",visibility:"public",description:"Define active month to override month selected with value",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"startOfWeek",visibility:"public",description:"Start Of Week",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"timezone",visibility:"public",description:'Timezone string (e.g., "America/New_York").',keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"utc",visibility:"public",description:"Whether to return the time in UTC. If true, overrides timezone.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"calendarDateChipProps",visibility:"public",description:"calendarDateChipProps: CalendarDateChip component props",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"color",visibility:"public",description:"What color to use?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"primary",text:'"primary"'},{kind:"const",type:"string",value:"secondary",text:'"secondary"'},{kind:"const",type:"string",value:"neutral",text:'"neutral"'},{kind:"const",type:"string",value:"safe",text:'"safe"'},{kind:"const",type:"string",value:"warning",text:'"warning"'},{kind:"const",type:"string",value:"danger",text:'"danger"'}],text:'"primary" | "secondary" | "neutral" | "safe" | "warning" | "danger"'},static:!1,readonly:!1},{name:"showToday",visibility:"public",description:"Show Today",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showLastMonth",visibility:"public",description:"Show last month dates",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showNextMonth",visibility:"public",description:"Show next month dates",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"showSelected",visibility:"public",description:"Show slected",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"today",visibility:"public",description:"Set today manually",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"minDate",visibility:"public",description:"Minimum allowed date, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"maxDate",visibility:"public",description:"Maxium allowed date, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"Date"},static:!1,readonly:!1},{name:"excludeDates",visibility:"public",description:"Exclude Dates, these dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Date[]"},static:!1,readonly:!1},{name:"includeDates",visibility:"public",description:"Include Dates, rest of the dates will be disabled",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"Date[]"},static:!1,readonly:!1},{name:"onselect",visibility:"public",description:"onselect event handler",keywords:[],kind:"let",type:{kind:"function",text:"(value: Date, dayOfMonth: DateOfMonth, e: ButtonClickEvent) => void"},static:!1,readonly:!1},{name:"customCalendarDateChipContent",visibility:"public",description:"Custom Calendar Chip Content",keywords:[],kind:"let",type:{kind:"function",text:"(dayOfMonth: DateOfMonth) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarDateChip",visibility:"public",description:"Custom Calendar Chip",keywords:[],kind:"let",type:{kind:"function",text:"(dayOfMonth: DateOfMonth) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarWeekContent",visibility:"public",description:"Custom Calendar Week Content",keywords:[],kind:"let",type:{kind:"function",text:"(week: CalendarWeekOption) => Snippet<[]>"},static:!1,readonly:!1},{name:"customCalendarWeek",visibility:"public",description:"Custom Calendar Week",keywords:[],kind:"let",type:{kind:"function",text:"(week: CalendarWeekOption) => Snippet<[]>"},static:!1,readonly:!1},{name:"weekDayNameType",visibility:"public",description:"week day Name type",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"size",visibility:"public",description:"How large should the Component be?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"normal",text:'"normal"'},{kind:"const",type:"string",value:"small",text:'"small"'},{kind:"const",type:"string",value:"large",text:'"large"'}],text:'"normal" | "small" | "large"'},static:!1,readonly:!1,defaultValue:'"normal"'},{name:"weekendDays",visibility:"public",description:"Weekend days",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"CalendarWeekNames[]"},static:!1,readonly:!1},{name:"weekendDaysColorDays",visibility:"public",description:"Color Weekend days",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"manipulateDate",visibility:"public",description:"manipulate date callback",keywords:[],kind:"let",type:{kind:"function",text:"(dateToModify: DateOfMonth, settings?: CreateDatesOfMonthSettings | undefined) => DateOfMonth"},static:!1,readonly:!1}],name:"CalendarDatesChart.svelte"};function Q(a,e){const i=[];for(let t=0;t<a.length;t+=e)i.push(a.slice(t,t+e));return i}function X(a,e){return p(a,void 0,{timezone:e==null?void 0:e.timezone,utc:e==null?void 0:e.utc})}function Z(a,e,i){if(!a)return null;const t=X(a,e).startOf("month").startOf("day");if(!t.isValid())return null;const c=(e==null?void 0:e.showNextMonth)!==!1,d=(e==null?void 0:e.showLastMonth)!==!1,M=_.find(n=>n.abr3===(e==null?void 0:e.startOfWeek))||_[0],b=(t.day()-M.value+7)%7,y=t.daysInMonth(),o=[],l=t.clone().subtract(b,"days"),r=t.clone().add(1,"month");if(d)for(let n=0;n<b;n++){const u=l.clone().add(n,"days");o.push(Y(u.toDate(),e,"lastMonth",i))}for(let n=1;n<=y;n++){const u=t.clone().set("date",n);o.push(Y(u.toDate(),e,"currentMonth",i))}const s=Q(o,7);if(c){const n=s[s.length-1],u=7-n.length;if(u>0){const D=[];for(let k=0;k<u;k++){const v=r.clone().add(k,"days");D.push(Y(v.toDate(),e,"nextMonth",i))}s[s.length-1]=[...n,...D]}}return s}function h(a,e){return p(a,void 0,{timezone:e==null?void 0:e.timezone,utc:e==null?void 0:e.utc})}function g(a,e,i){const t=a.format("DD-MM-YYYY");return i===t||e===t}function $(a,e,i,t,c){const d=a.format("DD-MM-YYYY");return!!(e!=null&&e.isValid()&&a.isBefore(e)||i!=null&&i.isValid()&&a.isAfter(i)||t!=null&&t.includes(d)||c&&!c.includes(d))}function Y(a,e,i="currentMonth",t){var r,s;const c=e!=null&&e.minDate?h(e.minDate,e):void 0,d=e!=null&&e.maxDate?h(e.maxDate,e):void 0,M=(r=e==null?void 0:e.excludeDates)==null?void 0:r.map(n=>h(n,e).format("DD-MM-YYYY")),m=(s=e==null?void 0:e.includeDates)==null?void 0:s.map(n=>h(n,e).format("DD-MM-YYYY")),b=h(void 0,e).format("DD-MM-YYYY"),y=e!=null&&e.today?h(e.today,e).format("DD-MM-YYYY"):void 0,o=h(a,e);let l={id:`${o.valueOf()}`,date:o.toDate(),isCurrentMonth:!0,disabled:$(o,c,d,M,m),today:g(o,b,y)};return i==="lastMonth"?(l.isLastMonth=!0,l.isCurrentMonth=!1):i==="nextMonth"&&(l.isNextMonth=!0,l.isCurrentMonth=!1),t&&(l=t(l,e)),l}export{K as C,Y as c};
