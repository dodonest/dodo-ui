import{p as F,A as v,r as G,c as J,j as S,l as h,a as x,m as I,b as m,g as a,k as Q,u as A,B as K,t as L,e as V,h as j}from"./iframe-L6KL7_8k.js";import{e as R}from"./each-CclZGuDo.js";import{M as X}from"./Menu-KcGx3N0n.js";import"./Popper-C3gm7RtK.js";import"./getMoment-JPt7NaAo.js";import{M as H}from"./MenuItem-Cf-INZxf.js";function Y(T,e){F(e,!0);let z=v(e,"class",3,""),p=v(e,"ref",15),U=v(e,"keyboardNavigation",3,!1),q=v(e,"showOptionsPlaceholder",3,!1),B=v(e,"optionsPlaceholder",3,"No options found"),k=Q(0),_=e.customMenuItemContent,P=e.customPlaceholderMenuItemContent;function O(t){let s;if(!p())return;switch(t.key){case"ArrowDown":case"ArrowUp":s=t.key,t.preventDefault();break;case"Enter":case"Esc":s=t.key;break}if(!s)return;if(s==="Enter"){e.onEnter&&e.onEnter(t,a(k));return}else if(s==="Escape"){e.onEsc&&e.onEsc(t,a(k));return}const n=p().querySelectorAll(":scope > li.dodo-ui-MenuItem");if(!n.length)return;for(let b=0;b<n.length;b++)n[b].classList.remove("hover");let i=a(k);s==="ArrowDown"?n[i+1]?i=i+1:i=0:s==="ArrowUp"&&(n[i-1]?i=i-1:i=n.length-1);const l=n[i];l.classList.add("hover"),l.focus(),l.scrollIntoView({block:"nearest"}),S(k,i,!0)}G(()=>{var s;if(!U())return;const t=p().querySelector(":scope > li.dodo-ui-MenuItem.selected");if(t){const n=(s=e.options)==null?void 0:s.findIndex(i=>{var l;return i.id===((l=e.selectedOption)==null?void 0:l.id)});n!==void 0&&n>=0&&S(k,n,!0),t.focus(),t.scrollIntoView({block:"nearest"})}return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}});const W=A(()=>["dodo-ui-DynamicMenu",z()].join(" "));X(T,{get class(){return a(W)},get id(){return e.id},get size(){return e.size},get width(){return e.width},get height(){return e.height},get separator(){return e.separator},get ref(){return p()},set ref(t){p(t)},children:(t,s)=>{var n=h(),i=x(n);{var l=d=>{var c=h(),M=x(c);R(M,17,()=>e.options,u=>u.id,(u,y)=>{const D=A(()=>{var o;return((o=e.selectedOption)==null?void 0:o.id)===a(y).id});H(u,K(()=>a(y),{get selected(){return a(D)},onclick:o=>e.onclick?e.onclick(o,a(y)):void 0},()=>e.menuItemProps,{children:(o,C)=>{var g=h(),E=x(g);{var r=f=>{_(f,()=>a(y),()=>e.selectedOption)},w=f=>{var N=L();V(()=>j(N,a(y).label||"")),m(f,N)};I(E,f=>{_?f(r):f(w,!1)})}m(o,g)},$$slots:{default:!0}}))}),m(d,c)},b=(d,c)=>{{var M=u=>{H(u,K({type:"text",disabled:!0},()=>e.menuItemProps,{children:(y,D)=>{var o=h(),C=x(o);{var g=r=>{P(r)},E=r=>{var w=L();V(()=>j(w,B())),m(r,w)};I(C,r=>{P?r(g):r(E,!1)})}m(y,o)},$$slots:{default:!0}}))};I(d,u=>{q()&&u(M)},c)}};I(i,d=>{var c;(c=e.options)!=null&&c.length?d(l):d(b,!1)})}m(t,n)},$$slots:{default:!0}}),J()}Y.__docgen={data:[{name:"ref",visibility:"public",description:"Menu ref",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLUListElement"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",description:"Custom css class",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"width",visibility:"public",description:"Menu Width",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"height",visibility:"public",description:"Menu Height",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"size",visibility:"public",description:"How large should the Menu Items be?",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"normal",text:'"normal"'},{kind:"const",type:"string",value:"small",text:'"small"'},{kind:"const",type:"string",value:"large",text:'"large"'}],text:'"normal" | "small" | "large"'},static:!1,readonly:!1},{name:"separator",visibility:"public",description:"Menu Separator",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"id",visibility:"public",description:"Id",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"options",visibility:"public",description:"Options",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"DynamicMenuItemOption<unknown>[]"},static:!1,readonly:!1},{name:"selectedOption",visibility:"public",description:"Selected Option",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"DynamicMenuItemOption<unknown>"},static:!1,readonly:!1},{name:"customMenuItemContent",visibility:"public",description:"Custom Menu Item Content",keywords:[],kind:"let",type:{kind:"function",text:"(option: DynamicMenuItemOption<unknown>, selectedOption?: DynamicMenuItemOption<unknown> | undefined) => Snippet<[]>"},static:!1,readonly:!1},{name:"showOptionsPlaceholder",visibility:"public",description:"Show Placeholder if no options",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"optionsPlaceholder",visibility:"public",description:"placeholder Text if no options",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"No options found"'},{name:"customPlaceholderMenuItemContent",visibility:"public",description:"Custom Menu Item Placeholder Content",keywords:[],kind:"let",type:{kind:"function",text:"() => Snippet<[]>"},static:!1,readonly:!1},{name:"menuItemProps",visibility:"public",description:"MenuItem: Menu component props",keywords:[],kind:"let",type:{kind:"type",type:"any",text:"any"},static:!1,readonly:!1},{name:"keyboardNavigation",visibility:"public",description:"Enable Keyboard Navigation",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"onEnter",visibility:"public",description:"Keyboard Navigation onEnter",keywords:[],kind:"let",type:{kind:"function",text:"(e: KeyboardEvent, menuItemIndex: number) => void"},static:!1,readonly:!1},{name:"onEsc",visibility:"public",description:"Keyboard Navigation onEsc",keywords:[],kind:"let",type:{kind:"function",text:"(e: KeyboardEvent, menuItemIndex: number) => void"},static:!1,readonly:!1},{name:"onclick",visibility:"public",description:"On menu item click",keywords:[],kind:"let",type:{kind:"function",text:"(e: MouseEvent, option: DynamicMenuItemOption<unknown>) => void"},static:!1,readonly:!1}],name:"DynamicMenu.svelte"};export{Y as D};
